<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles/styles.css" />
    <title>Blogs</title>
  </head>
  <body>
    <!-- Header -->
    <%- include('header') %>
    <main>
      <!-- Create Post Form -->
      <h1>Create Post</h1>
      <div class="createPost">
        <form action="/submit" method="POST">
          <!-- Title -->
          <label for="title">Title</label>
          <input type="text" name="title" placeholder="Title" />
          <!-- CreatorName -->
          <label for="creator_name">Creator Name:</label>
          <input type="text" name="creator_name" placeholder="Creator Name" />
          <!-- Time -->
          <label for="date_created">Date:</label>
          <input type="date_created" name="date_created" />
          <!-- Content -->
          <label for="body">Content:</label>
          <textarea id="textRezise" name="body" placeholder="body"> </textarea>
          <!-- Submit Button -->
          <button type="submit" value="OK">Create Post</button>
        </form>
      </div>
      <hr />
      <!-- Display Posts -->
      <h1>Posts</h1>
      <div class="post">
        <!-- Check if there is a post -->
        <% if (posts.length > 0) { %>
        <!-- Loop through posts -->
        <% posts.forEach((data) => { %>
        <div class="post-content">
          <p><%= data.blog_id %></p>
          <h2><%= data.title %></h2>
          <p><%= data.creator_name %></p>
          <p><%= data.date_created %></p>
          <p><%= data.body %></p>
          <!-- Delete Posts Button-->
          <form action="/delete" method="POST">
            <input type="hidden" name="id" value="<%= data.id %>" />
            <button type="submit" value="OK">Delete Post</button>
          </form>
          <!-- Edit Posts -->
          <%- include('edit') %>
        </div>
        <% }) %>
        <!-- else, assume there is no posts  -->
        <% } else { %>
        <p>No posts available, Create One</p>
        <% } %>
      </div>
    </main>
  </body>
  <!-- Footer -->
  <%- include('footer') %>
</html>
